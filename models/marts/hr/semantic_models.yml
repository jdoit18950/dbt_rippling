version: 2

semantic_models:
  - name: hr_metrics
    description: "Core HR metrics for workforce analytics"
    model: ref('hr_metrics_combined')
    dimensions:
      - name: department
        type: categorical
        sql: department_name
      
      - name: date
        type: time
        sql: metric_date
        time_grains: [day, week, month, quarter, year]
      
      - name: job_level
        type: categorical
        sql: job_title

    measures:
      - name: headcount
        description: "Total number of employees"
        agg: sum
        sql: total_headcount
      
      - name: avg_salary
        description: "Average salary"
        agg: average
        sql: calculated_annual_salary
      
      - name: turnover_rate
        description: "Employee turnover rate"
        agg: average
        sql: turnover_rate
      
      - name: total_cost
        description: "Total personnel cost"
        agg: sum
        sql: total_monthly_cost 