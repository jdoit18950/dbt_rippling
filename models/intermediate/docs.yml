models:
  - name: int_rippling__worker_compensation
    columns:
      - name: worker_id
        description: A unique identifier for each worker. This is used to link the worker's compensation data with their base worker data.
        data_type: varchar
      - name: department_id
        description: The identifier for the department in which the worker is employed. This is used to group workers by department for analysis.
        data_type: varchar
      - name: job_title
        description: The title of the job that the worker holds. This is used to provide context for the worker's compensation data.
        data_type: varchar
      - name: compensation_id
        description: The unique identifier for each compensation record. This ID is used to track changes in compensation over time for each worker.
        data_type: varchar
      - name: effective_date
        description: The date when the compensation change took effect. This is used to track the timeline of compensation changes for each worker.
        data_type: varchar
      - name: payment_type
        description: The type of payment the worker receives. This could be hourly, salary, or other types of compensation.
        data_type: varchar
      - name: calculated_annual_salary
        description: This column represents the annual salary of the worker, calculated based on their compensation data.
        data_type: number
      - name: previous_salary
        description: This column represents the previous salary of the worker before the current compensation data was recorded. It is calculated using the LAG function over the worker's compensation data, ordered by the creation date.
        data_type: number
      - name: salary_change_percentage
        description: This column represents the percentage change in the worker's salary from their previous salary to their current salary. It is calculated by subtracting the previous salary from the current salary, dividing by the previous salary, and multiplying by 100. If the previous salary is null or zero, the salary change percentage is set to zero.
        data_type: number
      - name: months_since_last_change
        description: This column represents the number of months that have passed since the last change in the worker's compensation. It is calculated by taking the difference between the current date and the date of the last change in the worker's compensation.
        data_type: number
      - name: department_comp_quartile
        description: This column represents the quartile of the worker's compensation within their department. It is calculated by ranking the worker's compensation within their department and dividing it into four equal groups. The value in this column indicates which quartile the worker's compensation falls into.
        data_type: number
      - name: is_significant_change
        description: This column is a boolean that indicates whether there has been a significant change in the worker's compensation. A change is considered significant if the absolute value of the percentage change in the worker's compensation is greater than 10.
        data_type: boolean
      - name: is_due_for_review
        description: A boolean flag indicating whether the worker's compensation is due for review. This is determined based on whether the number of months since the last change in compensation is greater than or equal to 12.
        data_type: boolean
      - name: effective_month
        description: The month in which the worker's compensation became effective. This is derived from the 'effective_date' field and is represented in the format 'YYYY-MM'.
        data_type: date
      - name: effective_quarter
        description: The quarter of the year in which the worker's compensation became effective. This is derived from the 'effective_date' field and is represented in the format 'YYYY-Q'.
        data_type: date
      - name: effective_year
        description: The year in which the compensation change became effective. This is derived from the 'effective_date' column by truncating the date to the year.
        data_type: date
      - name: dbt_loaded_at
        description: The timestamp at which the data was loaded into the dbt model. This is automatically generated at the time of data loading.
        data_type: timestamp_ltz
      - name: dbt_batch_id
        description: A unique identifier for the batch of data loaded into the dbt model. This is used for tracking and auditing purposes.
        data_type: varchar
